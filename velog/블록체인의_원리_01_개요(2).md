# 1.2. 블록체인의 개념
> 무결성을 확보하고 유지하기 위해 순서에 따라 연결된 블록들의 내용을 암호화 기법과 보안 기술을 이용해 합의하는 알고리즘으로 구성된 SW요소를 활용하는 원장의 분산P2P 시스템

분산 시스템의 **각 노드들이 동일한 장부를 유지 관리**,
**누구나 손쉽게 거래 기록을 열람**,
**노드가 수시로 장부를 공유, 대조**하는 과정을 통해 

- **시스템 위변조 방지**
- **신뢰성과 보안성 제공**
- 정보의 집중화 해소
- 시스템 관리의 효율성
- 투명성

### 해결해야하는 문제
거래를 기록할 때
1. 순서가 맞는 것인지
2. 송신자가 직접 보낸게 맞는지
3. 원장들이 어떻게 하나의 형태로 동일하게 유지관리될 수 있는지

생각해보아야한다.

잘못된 거래를 장부에 기록할 수 있는 비잔틴 문제. 어떻게 해결할 수 있을까?
# 1.3. 비잔틴 문제

비잔틴 : 임의의 행동을 하는 노드(오류가 났거나, 조작이 목적이거나)

아군들이 적을 둘러싸고 있는 상태에서
적을 한번에 공격해야 이길 수 있을 때, 아군들이 공격의 때를 맞추기 위해 소통을 해야하는데, 자신이 들은 내용을 근처 사람들에게 전달하게 된다. 근데 아군 중 한 부대가 적과 내통한다면(비잔틴) 시간을 하나로 맞추는 것이 어려워진다. 

전체 분산 시스템을 구성하는 노드들 중 비잔틴 노드가 어느정도 있어도 분산시스템을 안전하게 유지할 수 있는지, 그리고 바른 합의에 도달할 수 있는지에 대한 문제를 말한다.

### 51% 공격
블록체인의 전체 노드 중 50%를 초과하는 해시 연산력을 확보한 뒤, 거래 정보를 조작함으로써 이익을 얻으려는 해킹 공격. 악의적인 공격자가 전체 네트워크의 50%를 초과하는 막강한 해시 연산 능력을 보유하고, 다른 정직한 노드들보다 더 빠른 속도로 신규 블록을 생성하여 네트워크에 전파함으로써 다른 노드들이 위변조된 데이터가 포함된 블록체인을 채택하도록 만드는 해킹 공격이다.
(출처 : 해시넷)

규모가 큰 암호화폐 시스템에서는 일어나기 어렵다(비용이 막대하다, 암호화폐 좌지우지 할 수 있게 되면 오히려 가치 떨어질 것).
노드가 많아질수록 더 안전해지는 시스템.

### 비잔틴 동의(Byzantine Agreement)
노드의 수가 3일때 합의할 수 있을까?
정상A, 정상B, 비잔틴C 가 합의를 하려한다고 할때,
![](https://images.velog.io/images/okhaeeumm/post/0392bd2b-fced-4d10-a81e-62699ef8a4ea/%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8_%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%8B%E1%85%A1%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%205.png)

n개의 노드를 가진 시스템에서 f≥n/3 비잔틴 노드와 비잔틴 동의를 할 수 없다.


현재까지 이 문제를 거의 완벽히 해결한 시스템은 비트코인이 유일했다.
# 1.4. 비트코인의 PoW

우리가 흔히 아는 채굴(mining).
작업증명방식(Proof of Work)은 블록체인에 포크가 발생하여 여러 체인이 생긴 경우, 가장 긴 체인을 올바른 체인으로 선택한다==**가장 비싼 블록**

왜 가장 비싼 블록을 선택하나?
=> **자신의 자원을 낭비할만큼 신뢰성이 높다**고 판단한 것.


그렇다면 PoW는 정확히 무엇일까?